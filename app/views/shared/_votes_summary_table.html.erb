<p class="pull-right"><%= t('app.counts.vote', count: votes.size).html_safe %></p>

<% if votes.any? %>
  <table class="table table-striped">
    <thead>
      <tr>
        <th class="date-header"><%= Vote.human_attribute_name :time %></th>
        <% if show_issue %>
          <th><%= Issue.model_name.human %></th>
        <% end %>
        <th><%= Vote.human_attribute_name :subject %></th>
        <th><%= Vote.human_attribute_name :enacted %></th>
        <th><%= Vote.human_attribute_name :for_count %></th>
        <th><%= Vote.human_attribute_name :against_count %></th>
        <th><%= Vote.human_attribute_name :missing_count %></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% votes.each do |vote| %>
      <tr>
        <td><%= vote.time_text %></td>
        <% if show_issue %>
          <td><%= link_to vote.issue.summary, vote.issue %></td>
        <% end %>
        <td><%= link_to vote.subject, vote %></td>
        <td><%= vote.enacted_text %></td>

        <% stats = vote.stats %>
        <td class="vote-for"><%= stats.for_percent %>% (<%= vote.for_count %>)</td>
        <td class="vote-against"><%= stats.against_percent %>% (<%= vote.against_count %>)</td>
        <td class="vote-missing"><%= stats.missing_percent %>% (<%= vote.missing_count %>)</td>
      </tr>
      <% end %>
    </tbody>
  </table>
<% end %>