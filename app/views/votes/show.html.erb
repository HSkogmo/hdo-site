<div class="page-header">
  <h1><%= @vote.subject %></h1>
</div>

<div class="well">
  <dl>
    <dt><%= Issue.human_attribute_name :external_id %></dt>
    <dd><%= @vote.external_id %></dd>

    <dt><%= Vote.human_attribute_name :time %></dt>
    <dd><%= @vote.time %></dd>

    <dt><%= Issue.model_name.human %></dt>
    <dd><%= link_to @vote.issue.summary, @vote.issue %></dd>


    <dt><%= Vote.human_attribute_name :enacted %></dt>
    <dd><%= @vote.human_enacted %></dd>

    <% pc = @vote.percentages %>
    <dt><%= Vote.human_attribute_name :for_count %></dd>
    <dd><%= pc.for %>% (<%= @vote.for_count %>)</dt>

    <dt><%= Vote.human_attribute_name :against_count %></dd>
    <dd><%= pc.against %>% (<%= @vote.against_count %>)</dt>

    <dt><%= Vote.human_attribute_name :missing_count %></dd>
    <dd><%= pc.missing %>% (<%= @vote.missing_count %>)</dt>
  </dl>
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th><%= Representative.model_name.human %></th>
      <th><%= Representative.human_attribute_name :party %></th>
      <th><%= VoteResult.human_attribute_name :result %></th>
    </tr>
  </thead>
  <tbody>
      <% @vote.vote_results.each do |result| %>
      <tr>
        <td><%= link_to result.representative.display_name, result.representative %></td>
        <td><%= link_to result.representative.party.name, result.representative.party %></td>
        <td class="vote-<%= result.state %>"><%= result.human %></td>
      </tr>
      <% end %>
  </tbody>
</table>



